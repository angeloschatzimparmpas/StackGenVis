{"version":3,"file":"flattener.js","sourceRoot":"","sources":["../../../src/compiler/transforms/flattener.ts"],"names":[],"mappings":"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"}