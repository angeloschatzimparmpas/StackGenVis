{"version":3,"file":"mark.js","sourceRoot":"","sources":["../../src/mark/mark.ts"],"names":[],"mappings":"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"}